{% extends 'base.html' %}

{% block title %} {{client.client_name }}'s available rewards {% endblock %}

{% block body %}
<p> 
    <a href="/directory/{{ business_user.business_user_id }}">return to directory</a>
</p>

<header>
  <h2>edit {{client.client_name}}'s rewards</h2>
</header>

<!-- <p>
  Reward Points: <span id="points-add-counter">0</span> 
</p> -->


<!-- OK....SO I DO HAVE TO USE EVENT LISTENERS -->

    <h3>transactions</h3>
    <table> <table>

      <tr>
        <th>Service</th>
        <th colspan="10">Point</th>
          {% for reward in rewards %}
      </tr>

      <tr>
        <td>
          {{ reward.reward_type }}
        </td>
        <td>
          {{ reward.reward_cost }}
        </td>
        {% endfor %}
      </tr>     
        
          <tr>
            <td> 
              <form action="/adjusting_points" method="POST">
                <div>
                  <!-- <input hidden type="number" name="plus-count" value=1> -->
                  <button type="submit" id="add-to-points" name="plus-count" value="1">plus</button>

                  <!-- <input hidden type="number" name="plus-count" value=-1> -->
                  <!-- take in event, prevent default, will prevent form from refreshing the page -->
                  <button type="submit" name="plus-count" value="-1">sub</button>


                  <!-- JS event listenering, event cancel to prevent reloading page -->
                  <input hidden type="text" name="client_id" value="{{ client.client_id }}">
                  <input hidden type="text" name="business_user_id" value="{{ business_user.business_user_id }}">
                </div>
           
            </td>
          </tr>
  
    </table>



  <p>Reward Bank</p>

  <div>
    Total: <span class="reward-total-counter">{{ client.reward_point }}</span>
  </div>

  <br>

  <button type="submit" id="redeem-points" name="plus-count" value="-10">redeem</button>
  <p>Accidentally redeemed?</p>
  <button type="submit" id="undo-redeem" name="plus-count" value="10">Undo</button>
  </form>

  </section>

</main>

<!-- <script src="/static/js/point_adder.js"></script> -->

{% endblock %}

